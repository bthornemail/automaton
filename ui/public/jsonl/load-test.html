<!DOCTYPE html>
<html>
<head>
  <title>JSONL Load Test</title>
</head>
<body>
  <h1>JSONL File Load Test</h1>
  <div id="results"></div>
  <script>
    const files = [
      'generate.metaverse.jsonl',
      'automaton-kernel.jsonl',
      'automaton.jsonl',
      'r5rs-functions-trie.jsonl'
    ];
    
    const results = document.getElementById('results');
    
    async function testFile(file) {
      try {
        const response = await fetch(`/jsonl/${file}`);
        if (response.ok) {
          const text = await response.text();
          const lines = text.trim().split('\n').filter(l => l.trim());
          return { success: true, lines: lines.length, file };
        } else {
          return { success: false, status: response.status, file };
        }
      } catch (error) {
        return { success: false, error: error.message, file };
      }
    }
    
    async function runTests() {
      results.innerHTML = '<p>Testing files...</p>';
      for (const file of files) {
        const result = await testFile(file);
        const div = document.createElement('div');
        div.innerHTML = `${file}: ${result.success ? `✓ ${result.lines} lines` : `✗ ${result.status || result.error}`}`;
        div.style.color = result.success ? 'green' : 'red';
        results.appendChild(div);
      }
    }
    
    runTests();
  </script>
</body>
</html>
